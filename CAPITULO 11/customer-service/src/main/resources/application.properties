# ===========================================
# CreditCore - Customer Service
# Configuration Properties
# ===========================================

# Application Info
quarkus.application.name=customer-service
quarkus.application.version=1.0.0-SNAPSHOT

# HTTP Configuration
quarkus.http.port=8081
quarkus.http.cors=true
quarkus.http.cors.origins=*

# OpenAPI / Swagger UI
quarkus.swagger-ui.always-include=true
quarkus.swagger-ui.path=/swagger-ui
quarkus.smallrye-openapi.info-title=Customer Service API
quarkus.smallrye-openapi.info-version=1.0.0
quarkus.smallrye-openapi.info-description=Gestión de clientes empresariales con cifrado y caché

# Logging
quarkus.log.level=INFO
quarkus.log.console.format=%d{HH:mm:ss} %-5p [%c{2.}] (%t) %s%e%n
quarkus.log.console.json=false

# Database (PostgreSQL)
quarkus.datasource.db-kind=postgresql
quarkus.datasource.username=customerdb
quarkus.datasource.password=customerdb123
quarkus.datasource.jdbc.url=jdbc:postgresql://localhost:5432/customerdb

# Hibernate
quarkus.hibernate-orm.database.generation=drop-and-create
quarkus.hibernate-orm.log.sql=true
quarkus.hibernate-orm.log.format-sql=true

# Redis
quarkus.redis.hosts=redis://localhost:6379
quarkus.redis.timeout=10s

# Cache Configuration
quarkus.cache.enabled=true
quarkus.cache.type=redis

# Security - JWT
mp.jwt.verify.publickey.location=https://localhost:8080/realms/creditcore/protocol/openid-connect/certs
mp.jwt.verify.issuer=https://localhost:8080/realms/creditcore
quarkus.smallrye-jwt.enabled=true

# Security - OIDC
quarkus.oidc.enabled=true
quarkus.oidc.auth-server-url=http://localhost:8080/realms/creditcore
quarkus.oidc.client-id=customer-service
quarkus.oidc.credentials.secret=change-me-in-production
quarkus.oidc.tls.verification=none

# REST Client - SUNAT Validation Service (simulado)
quarkus.rest-client.sunat-api.url=http://localhost:9999
quarkus.rest-client.sunat-api.scope=jakarta.inject.Singleton

# Health Checks
quarkus.health.openapi.included=true

# Micrometer Metrics
quarkus.micrometer.enabled=true
quarkus.micrometer.export.prometheus.enabled=true

# Google Tink Encryption
app.encryption.key-path=./keys/tink-keyset.json
app.encryption.enabled=true

# Deshabilitar Dev Services
quarkus.devservices.enabled=false

# Micrometer Metrics
quarkus.micrometer.enabled=true
quarkus.micrometer.export.prometheus.enabled=true
quarkus.micrometer.binder.http-server.enabled=true
quarkus.micrometer.binder.http-client.enabled=true
# Exponer endpoint de métricas
quarkus.micrometer.export.prometheus.path=/q/metrics
