โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ     ๐ PRUEBAS DE SEGURIDAD - PARTE 3: OIDC + KEYCLOAK       โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

๐ Fecha: 20/11/2025 12:51:47
๐ API Base: http://localhost:8080
๐ Resultados: test-part3-oidc-2025-11-20_12-51-47.txt
๐ Seguridad: OIDC (OpenID Connect) + Keycloak

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
๐ PRUEBA 0: Verificar Conectividad con Keycloak
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

๐ฏ Objetivo: Confirmar que Keycloak estรก accesible
๐ URL: http://localhost:8180

Verificando conexiรณn...

โ PASS - Keycloak estรก corriendo correctamente

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
๐ PRUEBA 1: Obtener Access Token desde Keycloak (Cliente Bรกsico)
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

๐ฏ Objetivo: Autenticarse con Keycloak y obtener un Access Token OIDC
๐ Endpoint: POST http://localhost:8180/realms/vaultcorp/protocol/openid-connect/token
๐ค Usuario: client001 (rol: customer)
๐ Grant Type: password (Resource Owner Password Credentials)
โ Resultado Esperado: Access Token vรกlido emitido por Keycloak

Ejecutando login en Keycloak...

{
  "access_token": "eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJIdjdLa0VhYVNSYnJtSG5HUDRZN3paTlFCRXlBSHVzdUZrdWRCTTJZb0hvIn0.eyJleHAiOjE3NjM2NTQyMDksImlhdCI6MTc2MzY1MzkwOSwianRpIjoiMWRlMzczMWItZTUxMC00ZWY1LWIxZGEtM2I1NjIzMDNlYzA5IiwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo4MTgwL3JlYWxtcy92YXVsdGNvcnAiLCJhdWQiOiJhY2NvdW50Iiwic3ViIjoiMTI0NDYxYzUtNjBlOC00YTE4LTk4Y2YtOTQ3YzY3MjMxYWY1IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoidmF1bHQtYXBpIiwic2Vzc2lvbl9zdGF0ZSI6IjQzOTdjZjVmLTk3OWUtNGE0Ny1iMjlkLWUyZTA3OGZmNDE1NiIsImFjciI6IjEiLCJhbGxvd2VkLW9yaWdpbnMiOlsiaHR0cDovL2xvY2FsaG9zdDo4MDgwIl0sInJlYWxtX2FjY2VzcyI6eyJyb2xlcyI6WyJkZWZhdWx0LXJvbGVzLXZhdWx0Y29ycCIsIm9mZmxpbmVfYWNjZXNzIiwidW1hX2F1dGhvcml6YXRpb24iLCJjdXN0b21lciJdfSwicmVzb3VyY2VfYWNjZXNzIjp7ImFjY291bnQiOnsicm9sZXMiOlsibWFuYWdlLWFjY291bnQiLCJtYW5hZ2UtYWNjb3VudC1saW5rcyIsInZpZXctcHJvZmlsZSJdfX0sInNjb3BlIjoiZW1haWwgcHJvZmlsZSIsInNpZCI6IjQzOTdjZjVmLTk3OWUtNGE0Ny1iMjlkLWUyZTA3OGZmNDE1NiIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJuYW1lIjoiQ2FybG9zIEfDs21leiIsInByZWZlcnJlZF91c2VybmFtZSI6ImNsaWVudDAwMSIsImdpdmVuX25hbWUiOiJDYXJsb3MiLCJmYW1pbHlfbmFtZSI6IkfDs21leiIsImVtYWlsIjoiY2xpZW50ZTFAZW1wcmVzYS5jb20ifQ.osvSp0vMOPOAtdlwxoaW-DsDRy306vCVPOTv2PwchbTMDL0FT20F-v9ZzXUYrBD0rRascO5yY79MyN5veqb3_v9lu7T6XZNHYIsO01pSkTK9WweqaM9vCwwlaIbNayJiYKzAsL3w5WohmhAgJVQcUTmWWahY90y_Du9vvV4b63MVP0EgbmJ3qTkcYJ4jg6y_AiLIXPgW47ZP38rQNStHDQs6PUcPbP-8fxWYRXyB2RwrmS1iJZvNiaEVLZ1D5JqFgOb3-taAKDNNCJonG6gg0tx_dr-88x0ZcexQskC5tC0bf-fqGduNkKpYGTSY56JsniVXuajdDgWb7NuCnCI-dg",
  "expires_in": 300,
  "refresh_expires_in": 1800,
  "refresh_token": "eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjMDVjNmNlNy05MzdhLTRkNzQtYmFhOC04NDM4NzAwODM1MDcifQ.eyJleHAiOjE3NjM2NTU3MDksImlhdCI6MTc2MzY1MzkwOSwianRpIjoiODM3MTE3YTItYjc1ZS00YzM2LTg1YTItM2VlMWM1ODRkZGQyIiwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo4MTgwL3JlYWxtcy92YXVsdGNvcnAiLCJhdWQiOiJodHRwOi8vbG9jYWxob3N0OjgxODAvcmVhbG1zL3ZhdWx0Y29ycCIsInN1YiI6IjEyNDQ2MWM1LTYwZTgtNGExOC05OGNmLTk0N2M2NzIzMWFmNSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJ2YXVsdC1hcGkiLCJzZXNzaW9uX3N0YXRlIjoiNDM5N2NmNWYtOTc5ZS00YTQ3LWIyOWQtZTJlMDc4ZmY0MTU2Iiwic2NvcGUiOiJlbWFpbCBwcm9maWxlIiwic2lkIjoiNDM5N2NmNWYtOTc5ZS00YTQ3LWIyOWQtZTJlMDc4ZmY0MTU2In0.Mwn0MJ3QOE3k_mW3rP2EN_E5lhjHEEAT8TccQxvaa-M",
  "token_type": "Bearer",
  "not-before-policy": 0,
  "session_state": "4397cf5f-979e-4a47-b29d-e2e078ff4156",
  "scope": "email profile"
}

โ PASS - Keycloak emitiรณ el token correctamente
โน๏ธ  Este token estรก firmado por Keycloak, no por nuestra aplicaciรณn
๐ Token obtenido (primeros 50 caracteres): eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6IC...

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
๐ PRUEBA 2: Intento de Acceso sin Token OIDC
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

๐ฏ Objetivo: Verificar que los endpoints OIDC rechazan peticiones sin token
๐ Endpoint: GET /api/external/secrets/profile
๐ Seguridad: @RolesAllowed + OIDC
โ Resultado Esperado: HTTP 401 Unauthorized

Ejecutando sin Authorization header...

Response (HTTP 401):
(Sin contenido - esperado para 401)

โ PASS - El endpoint estรก protegido correctamente (401)

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
๐ PRUEBA 3: Acceso al Perfil con Token OIDC de Keycloak
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

๐ฏ Objetivo: Acceder a un endpoint usando token emitido por Keycloak
๐ Endpoint: GET /api/external/secrets/profile
๐ค Usuario: client001 (customer)
โ Resultado Esperado: HTTP 200 OK + datos del perfil

Ejecutando con token OIDC...

{
  "roles": [
    "default-roles-vaultcorp",
    "offline_access",
    "uma_authorization",
    "customer"
  ],
  "username": "client001",
  "authMethod": "OIDC (Keycloak)"
}

โ PASS - El token OIDC de Keycloak es vรกlido para nuestra aplicaciรณn
โน๏ธ  La app validรณ el token usando la clave pรบblica de Keycloak

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
๐ PRUEBA 4: Cliente Bรกsico puede ver Secretos Pรบblicos
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

๐ฏ Objetivo: Verificar que clientes bรกsicos pueden ver secretos PUBLIC
๐ Endpoint: GET /api/external/secrets/public
๐ค Usuario: client001 (customer)
โ Resultado Esperado: HTTP 200 OK + secretos con level=PUBLIC

Accediendo a secretos pรบblicos...

{
  "roles": [
    "default-roles-vaultcorp",
    "offline_access",
    "uma_authorization",
    "customer"
  ],
  "secrets": [
    {
      "id": "cf06509e-bc09-4675-9cdf-9c26a23998d7",
      "name": "Manual de Usuario",
      "content": "https://docs.vaultcorp.com/manual",
      "level": "PUBLIC",
      "ownerId": "marketing",
      "createdAt": "2025-11-20T12:52:26.426751",
      "expiresAt": null
    },
    {
      "id": "42435726-46aa-441e-a7ba-4df90fc7d944",
      "name": "API Pรบblica de Consultas",
      "content": "https://api.vaultcorp.com/public/v1",
      "level": "PUBLIC",
      "ownerId": "marketing",
      "createdAt": "2025-11-20T12:52:26.426753",
      "expiresAt": null
    }
  ],
  "user": "client001",
  "totalSecrets": 2
}

โ PASS - Cliente bรกsico (customer) Sร puede ver secretos PUBLIC

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
๐ PRUEBA 5: Cliente Bรกsico NO puede ver Secretos Confidenciales
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

๐ฏ Objetivo: Verificar que clientes bรกsicos NO pueden ver secretos CONFIDENTIAL
๐ Endpoint: GET /api/external/secrets/confidential
๐ค Usuario: client001 (customer)
โ Resultado Esperado: HTTP 403 Forbidden

Intentando acceder a secretos confidenciales con cliente bรกsico...

Response (HTTP 401):
(Sin contenido - esperado para 403)

โ FAIL - HTTP 401 (Esperado: 403)

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
๐ PRUEBA 6: Obtener Token para Cliente Premium
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

๐ฏ Objetivo: Autenticar un cliente con rol premium-customer
๐ค Usuario: client002 (rol: premium-customer)
โ Resultado Esperado: Access Token con rol premium

Ejecutando login para cliente premium...

{
  "access_token": "eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJIdjdLa0VhYVNSYnJtSG5HUDRZN3paTlFCRXlBSHVzdUZrdWRCTTJZb0hvIn0.eyJleHAiOjE3NjM2NTQzMTYsImlhdCI6MTc2MzY1NDAxNiwianRpIjoiZjU0M2MyYmYtODFkZC00ZDYyLTk4NzktOWM5OGU3ZGI1NTM5IiwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo4MTgwL3JlYWxtcy92YXVsdGNvcnAiLCJhdWQiOiJhY2NvdW50Iiwic3ViIjoiNjVkMmYwYjMtZDlmMS00ZWIxLTgyOWItYjZlYTkyZDZiNjZmIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoidmF1bHQtYXBpIiwic2Vzc2lvbl9zdGF0ZSI6IjMxY2EyYjU5LWQxNjAtNDMwNi1iZmNiLWNhMWNkMmMyMTAzNiIsImFjciI6IjEiLCJhbGxvd2VkLW9yaWdpbnMiOlsiaHR0cDovL2xvY2FsaG9zdDo4MDgwIl0sInJlYWxtX2FjY2VzcyI6eyJyb2xlcyI6WyJkZWZhdWx0LXJvbGVzLXZhdWx0Y29ycCIsInByZW1pdW0tY3VzdG9tZXIiLCJvZmZsaW5lX2FjY2VzcyIsInVtYV9hdXRob3JpemF0aW9uIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJlbWFpbCBwcm9maWxlIiwic2lkIjoiMzFjYTJiNTktZDE2MC00MzA2LWJmY2ItY2ExY2QyYzIxMDM2IiwiZW1haWxfdmVyaWZpZWQiOnRydWUsIm5hbWUiOiJNYXLDrWEgTMOzcGV6IiwicHJlZmVycmVkX3VzZXJuYW1lIjoiY2xpZW50MDAyIiwiZ2l2ZW5fbmFtZSI6Ik1hcsOtYSIsImZhbWlseV9uYW1lIjoiTMOzcGV6IiwiZW1haWwiOiJjbGllbnRlMkBlbXByZXNhLmNvbSJ9.VPz1NFO19lfsubra59JgkaMvQ1iJT0wdzXb6jRqTgrpauO0YeS7lkZdcY68XH0sEDTMqSBlojOcaKKSTdFvXUbSketirWM5fulG16upr9w7IoD_1cF7QKV-9nfSmnskKXYoZwfhDEkNn_pgklUMlJUV-IsXu1LY7LSF3SnNmo1GFaLYvA5Ol5EKXS1wVDahvFvV9khiM9kK-7ic7mJOgpYYyP5VQcLhFFQNNnoLur1NLGDaTNMpXHRkQ_r-Rzd1nQ-mem-vpSmiVyNAWfb7NNDhZCEWf0vCMONbQ2G-t4PomgDMw8dItmE5q9Jiy8Sj8Abm9iOp-h9h79rMQlrQJ0Q",
  "expires_in": 300,
  "refresh_expires_in": 1800,
  "refresh_token": "eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjMDVjNmNlNy05MzdhLTRkNzQtYmFhOC04NDM4NzAwODM1MDcifQ.eyJleHAiOjE3NjM2NTU4MTYsImlhdCI6MTc2MzY1NDAxNiwianRpIjoiM2IyNGVmZTMtYjg2Yi00NDQxLWFkMTMtMTQxYWVjZTU4NjFjIiwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo4MTgwL3JlYWxtcy92YXVsdGNvcnAiLCJhdWQiOiJodHRwOi8vbG9jYWxob3N0OjgxODAvcmVhbG1zL3ZhdWx0Y29ycCIsInN1YiI6IjY1ZDJmMGIzLWQ5ZjEtNGViMS04MjliLWI2ZWE5MmQ2YjY2ZiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJ2YXVsdC1hcGkiLCJzZXNzaW9uX3N0YXRlIjoiMzFjYTJiNTktZDE2MC00MzA2LWJmY2ItY2ExY2QyYzIxMDM2Iiwic2NvcGUiOiJlbWFpbCBwcm9maWxlIiwic2lkIjoiMzFjYTJiNTktZDE2MC00MzA2LWJmY2ItY2ExY2QyYzIxMDM2In0.WoK7iQiIU9kq_1x9JVps0rs4MOazC2u1YqhlUpnXpj8",
  "token_type": "Bearer",
  "not-before-policy": 0,
  "session_state": "31ca2b59-d160-4306-bfcb-ca1cd2c21036",
  "scope": "email profile"
}

โ PASS - Token premium obtenido correctamente
๐ Token premium (primeros 50 caracteres): eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6IC...

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
๐ PRUEBA 7: Cliente Premium Sร puede ver Secretos Confidenciales
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

๐ฏ Objetivo: Verificar que clientes premium Sร pueden ver secretos CONFIDENTIAL
๐ Endpoint: GET /api/external/secrets/confidential
๐ค Usuario: client002 (rol: premium-customer)
โ Resultado Esperado: HTTP 200 OK + secretos CONFIDENTIAL

Accediendo a secretos confidenciales con cliente premium...

{
  "secrets": [
    {
      "id": "6e6c601c-6491-4eb4-a95b-a586639edf8c",
      "name": "Credenciales AWS S3",
      "content": "AKIAIOSFODNN7EXAMPLE",
      "level": "CONFIDENTIAL",
      "ownerId": "ops",
      "createdAt": "2025-11-20T12:52:26.426756",
      "expiresAt": null
    },
    {
      "id": "8108a625-5a31-42e4-8ec0-91c98e9b406f",
      "name": "Token Analytics Premium",
      "content": "analytics_premium_token_xyz789",
      "level": "CONFIDENTIAL",
      "ownerId": "analytics",
      "createdAt": "2025-11-20T12:52:26.426759",
      "expiresAt": null
    }
  ],
  "user": "client002",
  "level": "CONFIDENTIAL",
  "totalSecrets": 2,
  "roles": [
    "default-roles-vaultcorp",
    "premium-customer",
    "offline_access",
    "uma_authorization"
  ]
}

โ PASS - El cliente premium Sร puede ver secretos CONFIDENTIAL
โน๏ธ  El nivel de acceso depende del rol asignado en Keycloak

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
๐ PRUEBA 8: Comparaciรณn de Roles entre Cliente Bรกsico y Premium
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

๐ฏ Objetivo: Visualizar las diferencias de autorizaciรณn segรบn el rol

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
Perfil de client001 (customer):
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ


โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
Perfil de client002 (premium-customer):
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

{
  "roles": [
    "default-roles-vaultcorp",
    "premium-customer",
    "offline_access",
    "uma_authorization"
  ],
  "username": "client002",
  "authMethod": "OIDC (Keycloak)"
}

โ Observa la diferencia en los roles: 'customer' vs 'premium-customer'
โน๏ธ  Los roles vienen directamente de Keycloak, no de nuestra aplicaciรณn

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                    ๐ RESUMEN DE PRUEBAS                       โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

  Total de tests:      8
  โ Tests Exitosos:  7
  โ Tests Fallidos:  1

โ๏ธ  ADVERTENCIA: Algunos tests fallaron

Posibles causas:
  1. Keycloak no estรก corriendo o no estรก configurado
  2. El servidor Quarkus no se iniciรณ con el perfil correcto
  3. El CLIENT_SECRET no coincide con el configurado en Keycloak

Soluciรณn:
  1. Verifica que Docker con Keycloak estรฉ corriendo: docker-compose ps
  2. Inicia el servidor: ./mvnw quarkus:dev -Dquarkus.profile=parte3
  3. Verifica el CLIENT_SECRET en Keycloak Admin Console

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                   ๐ฏ TESTS EJECUTADOS                          โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

โ PRUEBA 0: Keycloak estรก accesible y corriendo
โ PRUEBA 1: Keycloak emite tokens OIDC vรกlidos
โ PRUEBA 2: Peticiones sin token son rechazadas (401)
โ PRUEBA 3: Token OIDC permite acceso a endpoints protegidos
โ PRUEBA 4: Clientes bรกsicos pueden ver secretos PUBLIC
โ PRUEBA 5: Clientes bรกsicos NO pueden ver secretos CONFIDENTIAL (403)
โ PRUEBA 6: Clientes premium obtienen tokens con rol premium
โ PRUEBA 7: Clientes premium Sร pueden ver secretos CONFIDENTIAL

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ              ๐ CONCEPTOS CLAVE DEMOSTRADOS                    โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

๐ OIDC (OpenID Connect): Protocolo de autenticaciรณn sobre OAuth2
๐ Identity Provider:    Keycloak gestiona usuarios y roles externamente
๐ Federaciรณn:           Autenticaciรณn delegada a sistema externo
๐ Access Token:         Token emitido por Keycloak, validado por Quarkus
๐ Realm:                Espacio aislado en Keycloak (vaultcorp)
๐ Client:               Nuestra app registrada en Keycloak (vault-api)
๐ Roles externos:       Roles gestionados en Keycloak, no en nuestra app

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ              ๐ OIDC vs JWT Propio (Parte 2)                   โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

JWT Propio (Parte 2):
  โ Nosotros generamos y firmamos los tokens
  โ Nosotros gestionamos usuarios y roles
  โ Control total del proceso
  โ Debemos mantener base de datos de usuarios

OIDC con Keycloak (Parte 3):
  โ Keycloak genera y firma los tokens
  โ Keycloak gestiona usuarios y roles
  โ SSO (Single Sign-On) entre mรบltiples apps
  โ Federaciรณn con otros Identity Providers
  โ Dependencia de servicio externo (Keycloak)

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                    ๐ ARCHIVO DE LOG                           โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

๐ Todas las pruebas han sido guardadas en:
   test-part3-oidc-2025-11-20_12-51-47.txt

๐ก Puedes revisar el log completo en cualquier momento para:
   โข Verificar las respuestas HTTP completas
   โข Analizar los tokens OIDC generados por Keycloak
   โข Compartir los resultados con tu instructor
   โข Documentar el comportamiento del sistema de seguridad

๐ ยกPruebas de la Parte 3 (OIDC) completadas exitosamente!

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                  ๐ COMPARATIVA FINAL                          โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

Parte 1 (Basic Auth):     Admins/Auditores  โ /api/admin/*
Parte 2 (JWT Propio):     Empleados         โ /api/internal/*
Parte 3 (OIDC):           Clientes Externos โ /api/external/*

โจ Has completado las 3 partes del ejercicio de seguridad en Quarkus โจ

